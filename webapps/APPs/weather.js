var hour3data = [
    [{
        "jc": "0",
        "jb": "25",
        "je": "77",
        "jd": "2",
        "jf": "2018062408",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "76",
        "jd": "3",
        "jf": "2018062409",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "76",
        "jd": "3",
        "jf": "2018062410",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "75",
        "jd": "2",
        "jf": "2018062411",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "75",
        "jd": "3",
        "jf": "2018062412",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "75",
        "jd": "3",
        "jf": "2018062413",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "30",
        "je": "75",
        "jd": "2",
        "jf": "2018062414",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "78",
        "jd": "2",
        "jf": "2018062415",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "80",
        "jd": "2",
        "jf": "2018062416",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "83",
        "jd": "2",
        "jf": "2018062417",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "83",
        "jd": "2",
        "jf": "2018062418",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "84",
        "jd": "2",
        "jf": "2018062419",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "85",
        "jd": "2",
        "jf": "2018062420",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "85",
        "jd": "4",
        "jf": "2018062421",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "86",
        "jd": "5",
        "jf": "2018062422",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "87",
        "jd": "5",
        "jf": "2018062423",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "87",
        "jd": "5",
        "jf": "2018062500",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "87",
        "jd": "5",
        "jf": "2018062501",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "88",
        "jd": "5",
        "jf": "2018062502",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "88",
        "jd": "4",
        "jf": "2018062503",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "88",
        "jd": "3",
        "jf": "2018062504",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "89",
        "jd": "5",
        "jf": "2018062505",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "88",
        "jd": "3",
        "jf": "2018062506",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "87",
        "jd": "3",
        "jf": "2018062507",
        "ja": "03"
    }],
    [{
        "jc": "0",
        "jb": "26",
        "je": "86",
        "jd": "5",
        "jf": "2018062508",
        "ja": "03"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "79",
        "jd": "4",
        "jf": "2018062509",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "72",
        "jd": "3",
        "jf": "2018062510",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "65",
        "jd": "2",
        "jf": "2018062511",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "69",
        "jd": "3",
        "jf": "2018062512",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "30",
        "je": "73",
        "jd": "3",
        "jf": "2018062513",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "76",
        "jd": "2",
        "jf": "2018062514",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "77",
        "jd": "3",
        "jf": "2018062515",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "77",
        "jd": "3",
        "jf": "2018062516",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "78",
        "jd": "2",
        "jf": "2018062517",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "81",
        "jd": "3",
        "jf": "2018062518",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "84",
        "jd": "3",
        "jf": "2018062519",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "87",
        "jd": "2",
        "jf": "2018062520",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "88",
        "jd": "5",
        "jf": "2018062521",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "89",
        "jd": "5",
        "jf": "2018062522",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "90",
        "jd": "5",
        "jf": "2018062523",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "90",
        "jd": "5",
        "jf": "2018062600",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "89",
        "jd": "5",
        "jf": "2018062601",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "89",
        "jd": "5",
        "jf": "2018062602",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "89",
        "jd": "6",
        "jf": "2018062603",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "88",
        "jd": "6",
        "jf": "2018062604",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "21",
        "je": "88",
        "jd": "5",
        "jf": "2018062605",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "81",
        "jd": "5",
        "jf": "2018062606",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "74",
        "jd": "5",
        "jf": "2018062607",
        "ja": "07"
    }],
    [{
        "jc": "0",
        "jb": "22",
        "je": "68",
        "jd": "5",
        "jf": "2018062608",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "66",
        "jd": "5",
        "jf": "2018062609",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "65",
        "jd": "6",
        "jf": "2018062610",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "63",
        "jd": "6",
        "jf": "2018062611",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "65",
        "jd": "6",
        "jf": "2018062612",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "66",
        "jd": "6",
        "jf": "2018062613",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "67",
        "jd": "6",
        "jf": "2018062614",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "68",
        "jd": "7",
        "jf": "2018062615",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "70",
        "jd": "7",
        "jf": "2018062616",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "71",
        "jd": "6",
        "jf": "2018062617",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "74",
        "jd": "6",
        "jf": "2018062618",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "76",
        "jd": "6",
        "jf": "2018062619",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "79",
        "jd": "6",
        "jf": "2018062620",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "81",
        "jd": "6",
        "jf": "2018062621",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "83",
        "jd": "6",
        "jf": "2018062622",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "85",
        "jd": "6",
        "jf": "2018062623",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "84",
        "jd": "6",
        "jf": "2018062700",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "84",
        "jd": "6",
        "jf": "2018062701",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "84",
        "jd": "6",
        "jf": "2018062702",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "83",
        "jd": "6",
        "jf": "2018062703",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "22",
        "je": "82",
        "jd": "6",
        "jf": "2018062704",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "21",
        "je": "81",
        "jd": "6",
        "jf": "2018062705",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "23",
        "je": "80",
        "jd": "6",
        "jf": "2018062706",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "79",
        "jd": "6",
        "jf": "2018062707",
        "ja": "01"
    }],
    [{
        "jc": "0",
        "jb": "25",
        "je": "78",
        "jd": "6",
        "jf": "2018062708",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "30",
        "je": "71",
        "jd": "3",
        "jf": "2018062711",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "34",
        "je": "69",
        "jd": "3",
        "jf": "2018062714",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "70",
        "jd": "2",
        "jf": "2018062717",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "28",
        "je": "75",
        "jd": "3",
        "jf": "2018062720",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "82",
        "jd": "4",
        "jf": "2018062723",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "82",
        "jd": "5",
        "jf": "2018062802",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "81",
        "jd": "3",
        "jf": "2018062805",
        "ja": "01"
    }],
    [{
        "jc": "0",
        "jb": "27",
        "je": "78",
        "jd": "5",
        "jf": "2018062808",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "30",
        "je": "59",
        "jd": "2",
        "jf": "2018062811",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "33",
        "je": "56",
        "jd": "2",
        "jf": "2018062814",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "56",
        "jd": "2",
        "jf": "2018062817",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "29",
        "je": "61",
        "jd": "2",
        "jf": "2018062820",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "27",
        "je": "72",
        "jd": "3",
        "jf": "2018062823",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "76",
        "jd": "5",
        "jf": "2018062902",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "77",
        "jd": "3",
        "jf": "2018062905",
        "ja": "02"
    }],
    [{
        "jc": "0",
        "jb": "27",
        "je": "54",
        "jd": "5",
        "jf": "2018062908",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "55",
        "jd": "3",
        "jf": "2018062911",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "35",
        "je": "55",
        "jd": "2",
        "jf": "2018062914",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "32",
        "je": "56",
        "jd": "3",
        "jf": "2018062917",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "30",
        "je": "63",
        "jd": "2",
        "jf": "2018062920",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "69",
        "jd": "3",
        "jf": "2018062923",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "72",
        "jd": "5",
        "jf": "2018063002",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "25",
        "je": "80",
        "jd": "4",
        "jf": "2018063005",
        "ja": "01"
    }],
    [{
        "jc": "0",
        "jb": "27",
        "je": "55",
        "jd": "5",
        "jf": "2018063008",
        "ja": "01"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "55",
        "jd": "3",
        "jf": "2018063011",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "35",
        "je": "55",
        "jd": "2",
        "jf": "2018063014",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "33",
        "je": "56",
        "jd": "3",
        "jf": "2018063017",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "31",
        "je": "75",
        "jd": "2",
        "jf": "2018063020",
        "ja": "07"
    }, {
        "jc": "0",
        "jb": "26",
        "je": "78",
        "jd": "3",
        "jf": "2018063023",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "78",
        "jd": "6",
        "jf": "2018070102",
        "ja": "02"
    }, {
        "jc": "0",
        "jb": "24",
        "je": "80",
        "jd": "4",
        "jf": "2018070105",
        "ja": "07"
    }]
];
var uptime = "11:30更新";
var eventDay = ["34", "30", "31", "28", "35", "34", "35", "35"];
var eventNight = ["25", "22", "21", "21", "23", "24", "23", "24"];
var fifDay = ["31", "32", "30", "33", "33", "26", "34", "31"];
var fifNight = ["21", "22", "23", "24", "22", "19", "22", "23"];
var sunup = ["05:40", "05:40", "05:40", "05:41", "05:41", "05:41", "05:42"];
var sunset = ["20:07", "20:07", "20:07", "20:07", "20:07", "20:07", "20:07"];
var blue = ["2", "2", "3", "3", "3", "3", "1"];





function readData(e, t) {
    keyvalueOld = e, $.ajax({
        type: "GET",
        url: "http://toy1.weather.com.cn/search?cityname=" + encodeURIComponent(e),
        dataType: "jsonp",
        requestCount: ++requestCount,
        jsonp: "callback",
        jsonpCallback: "success_jsonpCallback",
        timeout: 3e3,
        async: !1,
        success: function (a) {
            requestCount === this.requestCount && (0 == t && ("" == a ? ($("#show ul").html("<span style='color:#f00;'>对不起，未找到您查询的城市天气!</a></span>"), $("#show").show()) : displayData(e, a)), 1 == t && ("" == a ? window.open("http://www.weather.com.cn/forecast/index.shtml#input") : (displayData(e, a), areaid = $("#show li.select").attr("num"), regEn.test(areaid) && window.open("http://www.weather.com.cn/html/province/" + areaid + ".shtml#input"), regForNum.test(areaid) && window.open("http://forecast.weather.com.cn/town/weather1dn/" + areaid + ".shtml#input"), regForj.test(areaid) && window.open("http://www.weather.com.cn/weather1d/" + areaid + ".shtml#input"), regNum.test(areaid) && window.open("http://www.weather.com.cn/weather1d/" + areaid + ".shtml#input"))))
        },
        error: function () {
            1 == t && window.open("http://www.weather.com.cn/weather1d/" + areaid + ".shtml#input")
        }
    })
}





var html = "",
    windDY = ["无持续风向", "东北风", "东风", "东南风", "南风", "西南风", "西风", "西北风", "北风", "旋转风"],
    windJB = ["<3级", "3-4级", "4-5级", "5-6级", "6-7级", "7-8级", "8-9级", "9-10级", "10-11级", "11-12级"],
    qxbm = {
        0: "晴",
        1: "多云",
        2: "阴",
        3: "阵雨",
        4: "雷阵雨",
        5: "雷阵雨伴有冰雹",
        6: "雨夹雪",
        7: "小雨",
        8: "中雨",
        9: "大雨",
        "00": "晴",
        "01": "多云",
        "02": "阴",
        "03": "阵雨",
        "04": "雷阵雨",
        "05": "雷阵雨伴有冰雹",
        "06": "雨夹雪",
        "07": "小雨",
        "08": "中雨",
        "09": "大雨",
        10: "暴雨",
        11: "大暴雨",
        12: "特大暴雨",
        13: "阵雪",
        14: "小雪",
        15: "中雪",
        16: "大雪",
        17: "暴雪",
        18: "雾",
        19: "冻雨",
        20: "沙尘暴",
        21: "小到中雨",
        22: "中到大雨",
        23: "大到暴雨",
        24: "暴雨到大暴雨",
        25: "大暴雨到特大暴雨",
        26: "小到中雪",
        27: "中到大雪",
        28: "大到暴雪",
        29: "浮尘",
        30: "扬沙",
        31: "强沙尘暴",
        53: "霾",
        99: "无",
        32: "浓雾",
        49: "强浓雾",
        54: "中度霾",
        55: "重度霾",
        56: "严重霾",
        57: "大雾",
        58: "特强浓雾",
        97: "雨",
        98: "雪",
        301: "雨",
        302: "雪"
    }

$(function () {
    function t(t) {
        $("#" + t + ">ul").css("display", "none"), $("#" + t + ">span").bind("click", function () {
            var e = $(this).next("ul").css("display");
            "none" == e ? ($(this).next("ul").slideDown(), $("#" + t + ">ul>li").each(function () {
                $(this).bind("click", function () {
                    $("#" + t + ">span").text($(this).text()), $("#" + t + ">ul").hide()
                })
            })) : $(this).next("ul").hide()
        })
    }
    $(".yq-weather").click(function () {
        $(".xyn-weather-box").show()
    }), $(".xyn-wb-btn input").click(function () {
        var t = new XMLHttpRequest;
        "withCredentials" in t || (t = new XDomainRequest), t.open("POST", "http://fb.weather.com.cn/getdatask"), $.getScript("http://wgeo.weather.com.cn/ip/", function () {
            var e = $("#select span").text(),
                n = $(".cur span").attr("title"),
                i = '{ "ip":"' + ip + '","ip_city":"' + addr + '","page_city":"' + e + '","user_submit_data":"' + n + '"}';
            t.send(i)
        }), $(".xyn-weather-box").hide(), $(".today .t .sk .sk_alarm").css("z-index", "5"), $(".sk01 .succ").fadeIn(), setTimeout(function () {
            $(".sk01 .succ").fadeOut()
        }, 2e3)
    }), $(".xyn-delete").click(function () {
        $(".xyn-weather-box").hide(), $(".today .t .sk .sk_alarm").css("z-index", "5")
    }), $(".yq-weather").click(function () {
        $(".xyn-weather-box").show(), $(".today .t .sk .sk_alarm").css("z-index", "1")
    }), $(".main-box-div").click(function () {
        $(".xyn-icon-bj").removeClass("cur"), $(this).find(".xyn-icon-bj").addClass("cur")
    }), t("select"), $(".emoji-item").attr("data-desc", "");
    var e = $(".emoji-item").attr("data-num"),
        n = e;
    e > 999 && 9999 > e && (n = e.substring(0, 1) + "K+"), e > 9999 && 99999 > e && (n = e.substring(0, 1) + "W+"), e > 99999 && 999999 > e && (n = e.substring(0, 2) + "W"), $("#zan-num").text(n), $(".emoji-item").hover(function () {
        $(".emoji-item div").css("background", "url(http://i.tq121.com.cn/i/weather2015/city/zan1.png) no-repeat")
    }, function () {
        $(".emoji-item div").css("background", "url(http://i.tq121.com.cn/i/weather2015/city/zan2.png) no-repeat")
    }), $(".emoji-item").on("click", function () {
        if ($(".emoji-item div").css("background", "url(http://i.tq121.com.cn/i/weather2015/city/zan1.png) no-repeat"), $(".emoji-item").unbind("hover"), $("#zan-num").css({
                color: "#f68d3b"
            }), 999 > e) {
            var t = parseInt(e) + 1;
            $("#zan-num").text(t)
        }
    });
    var i = location.href.match(/\d{9}/)[0],
        c = "",
        s = "";
    null != i && (c = i.substr(0, 7), s = i.substr(0, 5)), $.getScript("http://wgeo.weather.com.cn/ip/", function () {
        var t = id.substr(0, 7);
        "1010101" == t || "1010102" == t || "1010103" == t || "1010104" == t || "1011504" == t ? id.substr(0, 5) == s ? $(".yq-weather").css({
            display: "block"
        }) : $(".yq-weather").css({
            display: "none"
        }) : t == c ? $(".yq-weather").css({
            display: "block"
        }) : $(".yq-weather").css({
            display: "none"
        })
    }), $.getScript("http://d1.weather.com.cn/sk_2d/" + i + ".html", function () {
        $(".xyn-wb-text span").empty().append(dataSK.weather)
    }), setTimeout(function () {
        $("#ab_zan").css({
            visibility: "visible"
        })
    }, 2e3)
});